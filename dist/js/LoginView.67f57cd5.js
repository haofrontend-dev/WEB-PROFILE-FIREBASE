"use strict";(self["webpackChunkweb_project"]=self["webpackChunkweb_project"]||[]).push([[700],{8866:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container py-5"},[t("div",{staticClass:"p-5 shadow bg-body rounded content-register"},[t("h2",{staticClass:"title text-center"},[e._v("Login")]),t("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("b-form-group",{staticClass:"mb-2",attrs:{id:"example-input-group-2",label:"Email","label-for":"example-input-2"}},[t("b-form-input",{attrs:{id:"example-input-2",name:"example-input-2",type:"email",state:e.validateState("email"),"aria-describedby":"input-2-live-feedback"},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"email-invalid-feedback"}},[e._v(" Please enter a valid email address. ")])],1),t("b-form-group",{staticClass:"mb-2",attrs:{id:"example-input-group-1",label:"Password","label-for":"example-input-1"}},[t("b-form-input",{attrs:{id:"example-input-1",name:"example-input-1",state:e.validateState("password"),"aria-describedby":"input-1-live-feedback"},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[e._v("This is a required field and must be at least 6 characters.")])],1),e.isPending?t("div",{staticClass:"d-grid"},[t("b-button",{attrs:{block:"",disabled:"",type:"button"}},[e._v("Loading...")])],1):t("div",{staticClass:"d-grid"},[t("b-button",{attrs:{block:"",type:"submit",variant:"primary"}},[e._v("Login")])],1)],1),e.errorMessge?t("div",{staticClass:"text-danger my-2"},[e._v(" "+e._s(e.errorMessge)+" ")]):e._e()],1)])},s=[],i=(a(7658),a(4951)),o=a(5795),l=a(7669),n=a(8829),d=a(9662),u={mixins:[i.oE],data(){return{form:{email:null,password:null},errorMessge:null,isPending:!1}},validations:{form:{password:{required:o.C1,minLength:(0,o.Ei)(6)},email:{required:o.C1}}},methods:{validateState(e){const{$dirty:t,$error:a}=this.$v.form[e];return t?!a:null},resetForm(){this.form={name:null,password:null,email:null},this.$nextTick((()=>{this.$v.$reset()}))},async onSubmit(){if(this.$v.form.$touch(),!this.$v.form.$anyError){this.isPending=!0,this.errorMessge=null;try{const e=await(0,n.e5)(l.I,this.form.email,this.form.password);if(!e)throw new Error("Could not createa new user.");return console.log(e),d.Z.push({name:"admin",params:""}),e}catch(e){"auth/user-not-found"===e.code&&(this.errorMessge="No user found with provided email addres"),"auth/wrong-password"===e.code&&(this.errorMessge="Incorrect password"),console.log(e)}finally{this.isPending=!1}}}}},m=u,p=a(1001),c=(0,p.Z)(m,r,s,!1,null,"7f2474fa",null),f=c.exports}}]);
//# sourceMappingURL=LoginView.67f57cd5.js.map