"use strict";(self["webpackChunkweb_project"]=self["webpackChunkweb_project"]||[]).push([[295],{8123:function(t,e,a){a.d(e,{Z:function(){return m}});var s=function(){var t=this,e=t._self._c;return t.imagesGallery?e("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1","aria-labelledby":t.id,"aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h1",{staticClass:"modal-title fs-5",attrs:{id:t.id}},[t._v("Media")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-8"},[t.images.length>0?e("div",{staticClass:"row mt-4"},t._l(t.images,(function(a,s){return e("div",{key:s,staticClass:"col-12 col-lg-2 mb-4 cursor-pointer p-2 position-relative",class:t.selectedImages.includes(s)?"image-select":"",on:{click:function(e){return t.toggleActiveClassImages(s,a.src)}}},[e("img",{staticStyle:{width:"100%",height:"100%","max-height":"135px","object-fit":"cover",margin:"0"},attrs:{src:a.src,alt:""}}),t.selectedImages.includes(s)?e("button",{staticClass:"check-btn",attrs:{type:"button",tabindex:"0"}},[e("b-icon",{attrs:{icon:"check-square","aria-hidden":"true"}})],1):t._e()])})),0):e("div",[t._v("No images")])]),e("div",{staticClass:"col-12 col-lg-4"},[e("button",{staticClass:"btn btn-primary mt-4",attrs:{"data-bs-dismiss":"modal"},on:{click:t.saveImages}},[t._v(" Save Images ")])])])])])])]):e("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1","aria-labelledby":t.id,"aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h1",{staticClass:"modal-title fs-5",attrs:{id:t.id}},[t._v("Media")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-12"},[t.images.length>0?e("div",{staticClass:"row mt-4"},t._l(t.images,(function(a,s){return e("div",{key:s,staticClass:"col-12 col-lg-2 mb-4 cursor-pointer p-2 position-relative",class:t.selectItem===s?"image-select":"",attrs:{"data-bs-dismiss":"modal"},on:{click:function(e){return t.toggleActiveClass(s,a.src)}}},[e("img",{staticStyle:{width:"100%",height:"100%","max-height":"135px","object-fit":"cover",margin:"0"},attrs:{src:a.src,alt:""}}),t.selectItem===s?e("button",{staticClass:"check-btn",attrs:{type:"button",tabindex:"0"}},[e("b-icon",{attrs:{icon:"check-square","aria-hidden":"true"}})],1):t._e()])})),0):e("div",[t._v("No images")])])])])])])])},l=[],i=(a(7658),{props:{id:{type:String,require:!0},images:{type:Array,require:!0},imagesGallery:{type:Boolean,default:!1}},data(){return{selectItem:null,active:!1,selectedImages:[],selectedUrlImages:[]}},computed:{},methods:{toggleActiveClass(t,e){this.selectItem=t,this.active=!this.active,this.$emit("get-url-img",e)},toggleActiveClassImages(t,e){this.imagesGallery&&(this.selectedImages.includes(t)?(this.selectedImages.splice(this.selectedImages.indexOf(t),1),this.selectedUrlImages.splice(this.selectedUrlImages.indexOf(t),1)):(this.selectedImages.push(t),this.selectedUrlImages.push({src:e,index:t})))},saveImages(){this.$emit("save-images",this.selectedUrlImages)}}}),r=i,c=a(1001),o=(0,c.Z)(r,s,l,!1,null,"4ab62a7c",null),m=o.exports},1307:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"text-center my-4"},[t._v("Add new project")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-8"},[e("div",{staticClass:"attach p-4"},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlInput1"}},[t._v("Title Image")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nameProject,expression:"nameProject"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"Name Card"},domProps:{value:t.nameProject},on:{input:function(e){e.target.composing||(t.nameProject=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlInput1"}},[t._v("Date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateProject,expression:"dateProject"}],staticClass:"form-control",attrs:{type:"date",id:"exampleFormControlInput1",placeholder:"Name Card"},domProps:{value:t.dateProject},on:{input:function(e){e.target.composing||(t.dateProject=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlTextarea1"}},[t._v("Alt Image")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.altImage,expression:"altImage"}],staticClass:"form-control",attrs:{size:"sm",id:"exampleFormControlTextarea1",rows:"2"},domProps:{value:t.altImage},on:{input:function(e){e.target.composing||(t.altImage=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Select Project")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.valueSelect,expression:"valueSelect"}],staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valueSelect=e.target.multiple?a:a[0]}}},t._l(t.selectOptions,(function(a){return e("option",{key:a.title,domProps:{value:a.value}},[t._v(" "+t._s(a.title)+" ")])})),0)])])])]),e("div",{staticClass:"col-12 col-lg-4 pt-5"},[e("div",{staticClass:"card mb-4"},[t._m(0),e("div",{staticClass:"attach-info text-end"},[t.urlImage?e("div",{staticClass:"attach-image"},[e("img",{staticStyle:{width:"100%",height:"100%","max-height":"120px","object-fit":"cover",margin:"0"},attrs:{src:t.urlImage,alt:""}})]):t._e(),e("div",{staticClass:"card-body text-start"},[t.urlImage?e("a",{staticClass:"card-link text-danger",on:{click:function(e){t.urlImage=""}}},[t._v("Remove project Image")]):e("a",{staticClass:"card-link text-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalImage"}},[t._v("Set project Image")])])]),t._m(1)]),e("div",{staticClass:"card mb-4"},[t._m(2),e("div",{staticClass:"attach-info text-end"},[t.urlImagesGallery.length>0?e("div",{staticClass:"row w-100 px-2"},t._l(t.urlImagesGallery,(function(a,s){return e("div",{key:s,staticClass:"col-4 p-2 item-image"},[e("img",{staticClass:"card-img-top",staticStyle:{width:"100%",height:"100%","max-height":"120px","object-fit":"cover",margin:"0px"},attrs:{src:a.src,alt:"..."}}),e("span",{staticClass:"btn-delete",on:{click:function(e){return t.removeImageGallery(s)}}},[e("i",{staticClass:"fa-regular fa-trash-can"})])])})),0):t._e(),e("div",{staticClass:"card-body text-start"},[e("a",{staticClass:"card-link text-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalImagesGallery"},on:{click:function(e){t.imagesGallery=!0}}},[t._v("Add images project gallery")])])]),t._m(3)])]),e("div",{staticClass:"d-flex justify-end"},[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.saveImageProject()}}},[t._v(" Save project ")])])]),e("model-list-image",{attrs:{id:"modalImagesGallery",images:t.images,"images-gallery":t.imagesGallery},on:{"get-url-img":t.getUrrImage,"save-images":t.setImagesGallery}}),e("model-list-image",{attrs:{id:"modalImage",images:t.images},on:{"get-url-img":t.getUrrImage}})],1)},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title"},[e("h5",[t._v("Project image")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-footer"},[e("i",{staticClass:"fa-solid fa-circle-info"}),e("span",[t._v("Upload JPEG files that are 1000 x 1000 pixels or larger (max. 40 MB).")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title"},[e("h5",[t._v("Project gallery")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-footer"},[e("i",{staticClass:"fa-solid fa-circle-info"}),e("span",[t._v("Upload JPEG files that are 1000 x 1000 pixels or larger (max. 40 MB).")])])}],i=(a(7658),a(36)),r=a(8123),c={components:{ModelListImage:r.Z},data(){return{idProject:"",nameProject:"",dateProject:"",altImage:"",valueSelect:"general",selectItem:null,description:"",images:[],valueOption:null,urlImage:null,imagesGallery:!1,urlImagesGallery:[],dataImage:null,columns:[{title:"#",type:"id"},{title:"Image",type:"image"},{title:"Name image",type:"name"},{title:"Alt Image",type:"alt"},{title:"Type",type:"type"},{title:"Select",type:"select"}],selectOptions:[{title:"General",value:"general"},{title:"Key Visual",value:"key-visual"},{title:"Beauty",value:"beauty"},{title:"Branding",value:"branding"},{title:"F&B",value:"f&b"},{title:"Motion & Illustration ",value:"motionAi"}]}},computed:{srcActtacImage(){return this.selectItem||0===this.selectItem?this.images[this.selectItem].src:""}},mounted(){this.getImages();const t=this.$route.params.id;this.idProject=t,this.getImagProject(this.idProject)},methods:{getUrrImage(t){this.urlImage=t},setImagesGallery(t){this.urlImagesGallery=t},removeImage(t){this.images.splice(t,1)},removeImageGallery(t){this.urlImagesGallery.splice(t,1)},async getImages(){const t=(0,i.ad)(),e=(0,i.hJ)(t,"images"),a=await(0,i.PL)(e);a.forEach((t=>{this.images.push({src:t.data().myUrl})}))},async getImagProject(t){const e=(0,i.ad)(),a=(0,i.JU)(e,"db_projects",t),s=await(0,i.QT)(a);s.exists()?(this.dataImage=s.data(),this.nameProject=this.dataImage.namePr,this.altImage=this.dataImage.atl,this.valueSelect=this.dataImage.typePr,this.urlImage=this.dataImage.urlActack,this.urlImagesGallery=this.dataImage.imagesGallery,this.dateProject=this.dataImage.year):console.log("No such document!")},async saveImageProject(){try{const t=(0,i.ad)(),e=(0,i.JU)(t,"db_projects",this.idProject);await(0,i.r7)(e,{urlActack:this.urlImage,atl:this.altImage,typePr:this.valueSelect,namePr:this.nameProject,year:this.dateProject,imagesGallery:this.urlImagesGallery,isActive:!0}),this.$toast.open({message:"Edit is success",type:"success"}),this.$router.push({path:"/admin/project"}),this.altImage="",this.nameProject="",this.valueSelect="",this.urlImage="",this.urlImagesGallery=[],this.dateProject=""}catch(t){console.log(t),this.$toast.open({message:"Something went wrong!",type:"error"})}}}},o=c,m=a(1001),n=(0,m.Z)(o,s,l,!1,null,"513a07dc",null),d=n.exports}}]);
//# sourceMappingURL=EditProject.c1307e4d.js.map