"use strict";(self["webpackChunkweb_project"]=self["webpackChunkweb_project"]||[]).push([[910],{8860:function(t,e,a){a.d(e,{Z:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("div",[e("table",{staticClass:"table"},[e("thead",[e("tr",t._l(t.columns,(function(a,s){return e("th",{key:s,attrs:{scope:"col"}},[t._v(" "+t._s(a.title)+" ")])})),0)]),e("tbody",t._l(t.dateImages,(function(a,s){return e("tr",{key:s},[e("td",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),e("td",[e("img",{staticStyle:{width:"80px","max-height":"64px","object-fit":"contain"},attrs:{src:a.myUrl||a.urlActack,alt:""}})]),e("td",[t._v(t._s(a.namePr))]),e("td",[t._v(t._s(a.atl))]),e("td",[t._v(t._s(a.typePr))]),e("td",[e("div",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.isActive,expression:"data.isActive"}],staticClass:"form-check-input",attrs:{type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},domProps:{checked:Array.isArray(a.isActive)?t._i(a.isActive,null)>-1:a.isActive},on:{change:[function(e){var s=a.isActive,i=e.target,l=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&t.$set(a,"isActive",s.concat([o])):r>-1&&t.$set(a,"isActive",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"isActive",l)},function(e){return t.updateImage(a.isActive,a.id)}]}})])]),e("td",[e("div",{staticClass:"form-check form-switch"},[e("span",{staticClass:"btn-delete",on:{click:function(e){return t.showModal(a.id)}}},[e("i",{staticClass:"fa-regular fa-trash-can"})])])]),t.editItem?e("td",[e("div",{staticClass:"form-check form-switch"},[e("span",{staticClass:"btn-delete text-primary",on:{click:function(e){return t.openEdit(a.id)}}},[e("i",{staticClass:"fa-solid fa-pen"})])])]):t._e()])})),0)]),e("b-modal",{ref:"my-modal",attrs:{"hide-footer":"",title:"Delete"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",{staticClass:"d-block text-center"},[e("h3",[t._v("Are you sure you want to delete it?")])]),e("div",{staticClass:"d-flex justify-content-end align-items-center"},[e("b-button",{attrs:{variant:"outline-danger",block:""},on:{click:function(e){t.modalShow=!1}}},[t._v("Close")]),e("b-button",{staticClass:"ms-3",attrs:{variant:"outline-warning",block:""},on:{click:function(e){return t.deleteImage(t.idItemImage)}}},[t._v("Delete")])],1)])],1)},i=[],l=(a(7658),a(36)),o={props:{columns:{type:Array,require:!0},models:{type:String,require:!0},editItem:{type:Boolean,default:!1}},data(){return{counter:1,allData:[],modalShow:!1,isShowImage:!1,idItemImage:""}},computed:{dateImages(){return this.allData.reverse()}},mounted(){this.getDatas()},methods:{openEdit(t){this.$router.push({path:`/admin/project/edit/${t}`})},showModal(t){this.modalShow=!0,this.idItemImage=t},async getDatas(){const t=(0,l.ad)(),e=await(0,l.PL)((0,l.hJ)(t,this.models));e.forEach((t=>{this.allData.push({...t.data(),id:t.id})}))},async updateImage(t,e){const a=(0,l.ad)(),s=(0,l.JU)(a,this.models,e);await(0,l.r7)(s,{isActive:t}).then((()=>{this.$toast.open({message:t?"Turn on image":"Turn off image",type:"success"})})).catch((t=>{this.$toast.open({message:"Error deleting image.",type:"error"}),console.error("Lỗi khi xóa tài liệu: ",t)}))},async deleteImage(t){const e=(0,l.ad)(),a=(0,l.JU)(e,this.models,t);await(0,l.oe)(a).then((()=>{this.modalShow=!1,this.$toast.open({message:"Delete image is success",type:"success"}),this.allData=this.allData.filter((e=>e.id!==t))})).catch((t=>{this.$toast.open({message:"Error deleting image.",type:"error"}),console.error("Lỗi khi xóa tài liệu: ",t)}))}}},r=o,c=a(1001),n=(0,c.Z)(r,s,i,!1,null,"814cba02",null),m=n.exports},6481:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-5"},[t._m(0),e("table-images",{attrs:{columns:t.columns,models:"db_homepage"}}),e("model-image",{attrs:{images:t.dataImages,models:"db_homepage","select-options":t.selectOptions}})],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap-image--loader"},[e("div",{staticClass:"placehoder p-4 text-center"},[t._v("No file Selected")]),e("div",{staticClass:"mt-2"},[e("button",{staticClass:"btn btn-outline-primary btn-lg",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}},[t._v(" New Project ")])])])}],l=(a(7658),a(36)),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-8"},[t.images.length>0?e("div",{staticClass:"row mt-4"},t._l(t.images,(function(a,s){return e("div",{key:s,staticClass:"col-12 col-lg-2 mb-4 cursor-pointer p-2 position-relative",class:t.selectItem===s?"image-select":"",on:{click:function(e){return t.toggleActiveClass(s)}}},[e("img",{staticStyle:{width:"100%",height:"100%","max-height":"135px","object-fit":"cover",margin:"0"},attrs:{src:a.src,alt:""}}),t.selectItem===s?e("button",{staticClass:"check-btn",attrs:{type:"button",tabindex:"0"}},[e("b-icon",{attrs:{icon:"check-square","aria-hidden":"true"}})],1):t._e()])})),0):e("div",[t._v("No images")])]),t.srcActtacImage?e("div",{staticClass:"col-12 col-lg-4"},[e("div",{staticClass:"attach p-4 text-end"},[e("h3",{staticClass:"attach-title"},[t._v("ATTACHMENT DETAILS")]),e("div",{staticClass:"attach-info text-end"},[e("div",{staticClass:"attach-image"},[e("img",{staticStyle:{width:"100%",height:"100%","max-height":"120px","object-fit":"cover",margin:"0"},attrs:{src:t.srcActtacImage,alt:""}})])]),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlInput1"}},[t._v("Title Image")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nameProject,expression:"nameProject"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"Name Card"},domProps:{value:t.nameProject},on:{input:function(e){e.target.composing||(t.nameProject=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlInput1"}},[t._v("Date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateProject,expression:"dateProject"}],staticClass:"form-control",attrs:{type:"date",id:"exampleFormControlInput1",placeholder:"Name Card"},domProps:{value:t.dateProject},on:{input:function(e){e.target.composing||(t.dateProject=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlTextarea1"}},[t._v("Alt Image")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.altImage,expression:"altImage"}],staticClass:"form-control",attrs:{size:"sm",id:"exampleFormControlTextarea1",rows:"2"},domProps:{value:t.altImage},on:{input:function(e){e.target.composing||(t.altImage=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Select Project")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.valueSelect,expression:"valueSelect"}],staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valueSelect=e.target.multiple?a:a[0]}}},t._l(t.selectOptions,(function(a){return e("option",{key:a.title,domProps:{value:a.value}},[t._v(" "+t._s(a.title)+" ")])})),0)]),e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.uploadImageProject(t.srcActtacImage)}}},[t._v(" Select ")])])])]):t._e()])])])])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h1",{staticClass:"modal-title fs-5",attrs:{id:"exampleModalLabel"}},[t._v("Media")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],c={props:{images:{type:Array,require:!0},models:{type:String,require:!0},selectOptions:{type:Array,default:()=>[]},imagesGallery:{type:Boolean,default:!1}},data(){return{nameProject:"",dateProject:"",altImage:"",valueSelect:"general",selectItem:null,imgGaller:!0}},computed:{srcActtacImage(){return this.selectItem||0===this.selectItem?this.images[this.selectItem].src:""}},methods:{toggleActiveClass(t){this.selectItem=t},uploadImageProject(t){try{const e=(0,l.ad)(),a=(0,l.hJ)(e,this.models),s=(0,l.JU)(a),i={myUrl:t,atl:this.altImage,typePr:this.valueSelect,namePr:this.nameProject,year:this.dateProject,isActive:!0};(0,l.pl)(s,i),this.$toast.open({message:"Upload is success",type:"success"}),this.altImage="",this.nameProject="",this.valueSelect=""}catch(e){console.log(e),this.$toast.open({message:"Something went wrong!",type:"error"})}}}},n=c,m=a(1001),d=(0,m.Z)(n,o,r,!1,null,"060cc312",null),u=d.exports,p=a(8860),h={components:{ModelImage:u,TableImages:p.Z},data(){return{description:"",images:[],valueOption:null,columns:[{title:"#",type:"id"},{title:"Image",type:"image"},{title:"Name image",type:"name"},{title:"Alt Image",type:"alt"},{title:"Type",type:"type"},{title:"Select",type:"select"}],selectOptions:[{title:"Slider",value:"slider"},{title:"Graphic designs",value:"gp-design"},{title:"Illustrations",value:"Illustrations"}]}},computed:{dataImages(){return this.images.reverse()}},mounted(){this.getImages()},methods:{removeImage(t){this.images.splice(t,1)},async getImages(){const t=(0,l.ad)(),e=(0,l.hJ)(t,"images"),a=await(0,l.PL)(e);a.forEach((t=>{this.images.push({src:t.data().myUrl})}))}}},g=h,v=(0,m.Z)(g,s,i,!1,null,"ca3edfec",null),f=v.exports}}]);
//# sourceMappingURL=UploadHomePage.03fe7573.js.map