"use strict";(self["webpackChunkweb_project"]=self["webpackChunkweb_project"]||[]).push([[113],{7018:function(t,e,a){a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",[e("table",{staticClass:"table"},[e("thead",[e("tr",t._l(t.columns,(function(a,i){return e("th",{key:i,attrs:{scope:"col"}},[t._v(" "+t._s(a.title)+" ")])})),0)]),e("tbody",t._l(t.allData,(function(a,i){return e("tr",{key:i},[e("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),e("td",[e("img",{staticStyle:{width:"80px","max-height":"64px","object-fit":"contain"},attrs:{src:a.myUrl||a.urlActack,alt:""}})]),e("td",[t._v(t._s(a.namePr))]),e("td",[t._v(t._s(a.atl))]),e("td",[t._v(t._s(a.typePr))]),e("td",[e("div",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.isActive,expression:"data.isActive"}],staticClass:"form-check-input",attrs:{type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},domProps:{checked:Array.isArray(a.isActive)?t._i(a.isActive,null)>-1:a.isActive},on:{change:[function(e){var i=a.isActive,s=e.target,l=!!s.checked;if(Array.isArray(i)){var o=null,c=t._i(i,o);s.checked?c<0&&t.$set(a,"isActive",i.concat([o])):c>-1&&t.$set(a,"isActive",i.slice(0,c).concat(i.slice(c+1)))}else t.$set(a,"isActive",l)},function(e){return t.updateImage(a.isActive,a.id)}]}})])]),e("td",[e("div",{staticClass:"form-check form-switch"},[e("span",{staticClass:"btn-delete",on:{click:function(e){return t.showModal(a.id)}}},[e("i",{staticClass:"fa-regular fa-trash-can"})])])]),t.editItem?e("td",[e("div",{staticClass:"form-check form-switch"},[e("span",{staticClass:"btn-delete text-primary",on:{click:function(e){return t.openEdit(a.id)}}},[e("i",{staticClass:"fa-solid fa-pen"})])])]):t._e()])})),0)]),e("b-modal",{ref:"my-modal",attrs:{"hide-footer":"",title:"Delete"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",{staticClass:"d-block text-center"},[e("h3",[t._v("Are you sure you want to delete it?")])]),e("div",{staticClass:"d-flex justify-content-end align-items-center"},[e("b-button",{attrs:{variant:"outline-danger",block:""},on:{click:function(e){t.modalShow=!1}}},[t._v("Close")]),e("b-button",{staticClass:"ms-3",attrs:{variant:"outline-warning",block:""},on:{click:function(e){return t.deleteImage(t.idItemImage)}}},[t._v("Delete")])],1)])],1)},s=[],l=(a(7658),a(36)),o={props:{columns:{type:Array,require:!0},models:{type:String,require:!0},editItem:{type:Boolean,default:!1}},data(){return{counter:1,allData:[],modalShow:!1,isShowImage:!1,idItemImage:""}},mounted(){this.getDatas()},methods:{openEdit(t){this.$router.push({path:`/admin/project/edit/${t}`})},showModal(t){this.modalShow=!0,this.idItemImage=t},async getDatas(){const t=(0,l.ad)(),e=await(0,l.PL)((0,l.hJ)(t,this.models));e.forEach((t=>{this.allData.push({...t.data(),id:t.id})}))},async updateImage(t,e){const a=(0,l.ad)(),i=(0,l.JU)(a,this.models,e);await(0,l.r7)(i,{isActive:t}).then((()=>{this.$toast.open({message:t?"Turn on image":"Turn off image",type:"success"})})).catch((t=>{this.$toast.open({message:"Error deleting image.",type:"error"}),console.error("Lỗi khi xóa tài liệu: ",t)}))},async deleteImage(t){const e=(0,l.ad)(),a=(0,l.JU)(e,this.models,t);await(0,l.oe)(a).then((()=>{this.modalShow=!1,this.$toast.open({message:"Delete image is success",type:"success"}),this.allData=this.allData.filter((e=>e.id!==t))})).catch((t=>{this.$toast.open({message:"Error deleting image.",type:"error"}),console.error("Lỗi khi xóa tài liệu: ",t)}))}}},c=o,n=a(1001),r=(0,n.Z)(c,i,s,!1,null,"615b7bd6",null),d=r.exports},2224:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"wrap-image--loader"},[e("div",{staticClass:"placehoder p-4 text-center"},[t._v("No file Selected")]),e("div",{staticClass:"mt-2"},[e("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/admin/project/new",type:"button"}},[t._v(" New Project ")])],1)]),e("table-images",{attrs:{columns:t.columns,models:"db_projects","edit-item":!0}})],1)},s=[],l=(a(7658),a(36)),o=a(7018),c={components:{TableImages:o.Z},data(){return{description:"",images:[],valueOption:null,columns:[{title:"#",type:"id"},{title:"Image",type:"image"},{title:"Name image",type:"name"},{title:"Alt Image",type:"alt"},{title:"Type",type:"type"},{title:"Select",type:"select"}],selectOptions:[{title:"General",value:"general"},{title:"Key Visual",value:"key-visual"},{title:"Beauty",value:"beauty"},{title:"Branding",value:"branding"},{title:"F&B",value:"f&b"},{title:"Motion & Illustration ",value:"motionAi"}]}},mounted(){this.getImages()},methods:{removeImage(t){this.images.splice(t,1)},async getImages(){const t=(0,l.ad)(),e=(0,l.hJ)(t,"images"),a=await(0,l.PL)(e);a.forEach((t=>{this.images.push({src:t.data().myUrl})}))}}},n=c,r=a(1001),d=(0,r.Z)(n,i,s,!1,null,"751e5869",null),u=d.exports}}]);
//# sourceMappingURL=ProjectUpload.1ab452fa.js.map